apiVersion: batch/v1
kind: Job
metadata:
  name: jd-assistant
  namespace: app
  labels:
    jobgroup: jd-assistant
spec:
  template:
    metadata:
      name: jd-assistant
      labels:
        jobgroup: jd-assistant
    spec:
      restartPolicy: Never
      containers:
        - name: jd-assistant
          image: docker-repository.mouse.center:1443/jd-assistant
          volumeMounts:
            - mountPath: /etc/jd-assistant/main.py
              name: cfg
              subPath: main.py
            - mountPath: /etc/jd-assistant/cookies/user.cookies
              name: cfg
              subPath: user.cookies
            - mountPath: /etc/jd-assistant/config.ini
              name: cfg
              subPath: config.ini
      volumes:
        - name: cfg
          configMap:
            name: jd-assistant-cfg
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: jd-assistant-cfg
  namespace: app
data:
  main.yp: |
    from exception import AsstException
    from jd_assistant import Assistant

    if __name__ == '__main__':
        asst = Assistant()
        if not asst.is_login:
            raise AsstException('未登陆')
        asst.add_item_to_cart(sku_ids='100004187691')
  user.cookies: |
    8004 9566 0a00 0000 0000 008c 1072 6571
    7565 7374 732e 636f 6f6b 6965 7394 8c11
    5265 7175 6573 7473 436f 6f6b 6965 4a61
    7294 9394 2981 947d 9428 8c07 5f70 6f6c
    6963 7994 8c0e 6874 7470 2e63 6f6f 6b69
    656a 6172 948c 1344 6566 6175 6c74 436f
    6f6b 6965 506f 6c69 6379 9493 9429 8194
    7d94 288c 086e 6574 7363 6170 6594 888c
    0772 6663 3239 3635 9489 8c13 7266 6332
    3130 395f 6173 5f6e 6574 7363 6170 6594
    4e8c 0c68 6964 655f 636f 6f6b 6965 3294
    898c 0d73 7472 6963 745f 646f 6d61 696e
    9489 8c1b 7374 7269 6374 5f72 6663 3239
    3635 5f75 6e76 6572 6966 6961 626c 6594
    888c 1673 7472 6963 745f 6e73 5f75 6e76
    6572 6966 6961 626c 6594 898c 1073 7472
    6963 745f 6e73 5f64 6f6d 6169 6e94 4b00
    8c1c 7374 7269 6374 5f6e 735f 7365 745f
    696e 6974 6961 6c5f 646f 6c6c 6172 9489
    8c12 7374 7269 6374 5f6e 735f 7365 745f
    7061 7468 9489 8c10 7365 6375 7265 5f70
    726f 746f 636f 6c73 948c 0568 7474 7073
    948c 0377 7373 9486 948c 105f 626c 6f63
    6b65 645f 646f 6d61 696e 7394 298c 105f
    616c 6c6f 7765 645f 646f 6d61 696e 7394
    4e8c 045f 6e6f 7794 4a5b 6936 6075 628c
    085f 636f 6f6b 6965 7394 7d94 288c 0f70
    6173 7370 6f72 742e 6a64 2e63 6f6d 947d
    948c 012f 947d 9428 8c03 616c 6394 6806
    8c06 436f 6f6b 6965 9493 9429 8194 7d94
    288c 0776 6572 7369 6f6e 944b 008c 046e
    616d 6594 6822 8c05 7661 6c75 6594 8c18
    6d6b 4844 357a 5974 4932 526a 482b 444c
    6d4e 3876 3977 3d3d 948c 0470 6f72 7494
    4e8c 0e70 6f72 745f 7370 6563 6966 6965
    6494 898c 0664 6f6d 6169 6e94 681e 8c10
    646f 6d61 696e 5f73 7065 6369 6669 6564
    9489 8c12 646f 6d61 696e 5f69 6e69 7469
    616c 5f64 6f74 9489 8c04 7061 7468 9468
    208c 0e70 6174 685f 7370 6563 6966 6965
    6494 888c 0673 6563 7572 6594 898c 0765
    7870 6972 6573 944e 8c07 6469 7363 6172
    6494 888c 0763 6f6d 6d65 6e74 944e 8c0b
    636f 6d6d 656e 745f 7572 6c94 4e8c 0772
    6663 3231 3039 9489 8c05 5f72 6573 7494
    7d94 8c08 4874 7470 4f6e 6c79 944e 7375
    628c 025f 7494 6824 2981 947d 9428 6827
    4b00 6828 683b 6829 8c2c 6141 4761 3278
    3935 416f 3665 2b77 776e 2b69 4374 392f
    3377 6b77 7939 5758 4a4a 3347 2f56 6232
    7461 7857 593d 9468 2b4e 682c 8968 2d8c
    0f70 6173 7370 6f72 742e 6a64 2e63 6f6d
    9468 2e89 682f 8968 3068 2068 3188 6832
    8968 334e 6834 8868 354e 6836 4e68 3789
    6838 7d94 7562 8c09 4465 7669 6365 5365
    7194 6824 2981 947d 9428 6827 4b00 6828
    6841 6829 8c20 3733 6234 3838 3936 6139
    3763 3431 3137 3961 6639 3361 6161 3135
    6335 3639 6661 9468 2b4e 682c 8968 2d8c
    0f70 6173 7370 6f72 742e 6a64 2e63 6f6d
    9468 2e89 682f 8968 3068 2068 3188 6832
    8968 334a 5bb7 2361 6834 8968 354e 6836
    4e68 3789 6838 7d94 8c08 4874 7470 4f6e
    6c79 944e 7375 6275 738c 0b71 722e 6d2e
    6a64 2e63 6f6d 947d 9468 207d 948c 0951
    5243 6f64 654b 6579 9468 2429 8194 7d94
    2868 274b 0068 2868 4b68 298c 3041 4145
    4149 425f 3257 3877 7638 5478 616a 4834
    6441 5932 6845 6e47 3674 4764 704d 527a
    6b4a 426a 4f4f 5271 3179 3051 7194 682b
    4e68 2c89 682d 6848 682e 8968 2f89 6830
    6820 6831 8968 3289 6833 4e68 3488 6835
    4e68 364e 6837 8968 387d 948c 0848 7474
    704f 6e6c 7994 4e73 7562 7373 8c07 2e6a
    642e 636f 6d94 7d94 6820 7d94 288c 0b77
    6c66 7374 6b5f 736d 646c 9468 2429 8194
    7d94 2868 274b 0068 2868 5468 298c 2031
    7269 6c6c 7464 6a36 3130 7969 746f 6e69
    736c 7233 3563 6473 3574 3239 6b6d 6294
    682b 4e68 2c89 682d 6851 682e 8868 2f88
    6830 6820 6831 8868 3289 6833 4e68 3488
    6835 4e68 364e 6837 8968 387d 9475 628c
    0754 7261 636b 4944 9468 2429 8194 7d94
    2868 274b 0068 2868 5968 298c 6c31 3351
    394e 4e4a 5a43 6248 6372 7a6f 7942 6c4a
    4870 5863 5936 7936 7673 4b49 4867 7168
    6d30 3579 324d 6b44 6538 4e73 4d56 7768
    6554 6361 6a74 346a 6a6d 5356 4676 3441
    3337 3358 7269 2d2d 5676 3954 6576 6e78
    4357 584f 4463 4378 5847 634e 5275 5439
    7932 326d 3276 4e65 3494 682b 4e68 2c89
    682d 8c07 2e6a 642e 636f 6d94 682e 8868
    2f88 6830 6820 6831 8868 3289 6833 4adb
    6a9c 6968 3489 6835 4e68 364e 6837 8968
    387d 9475 628c 0474 686f 7294 6824 2981
    947d 9428 6827 4b00 6828 685f 6829 5820
    0100 0037 3731 3835 3335 4138 3744 3641
    3731 3138 3941 4345 4135 3646 3131 3445
    3734 3041 3231 4443 4443 4145 4434 3245
    4139 3931 3436 3332 4341 3543 3841 3645
    3641 3330 3743 4630 3235 4246 4242 4443
    4642 3741 3236 4435 4133 3046 3842 3433
    3844 3030 4146 3341 3433 3846 4443 4543
    3036 4437 3331 4535 3336 3439 4446 3735
    4535 3743 4131 3243 4436 4645 3630 3744
    4439 4242 4341 3230 3336 3430 3633 4236
    3044 4335 3541 3932 3832 3843 3944 3535
    4644 3944 3637 3243 3731 3230 4232 4544
    4346 3735 4545 4543 3136 4546 4336 3446
    3346 3431 3944 3334 3536 4238 3835 4231
    4341 4330 4634 4135 3845 3046 3138 3735
    3944 3132 4331 3642 4344 3137 4630 4544
    3835 3534 4131 4531 3131 4343 4435 3741
    3232 3535 3133 3842 3739 4239 4535 3033
    3536 3694 682b 4e68 2c89 682d 8c07 2e6a
    642e 636f 6d94 682e 8868 2f88 6830 6820
    6831 8868 3289 6833 4e68 3488 6835 4e68
    364e 6837 8968 387d 948c 0848 7474 704f
    6e6c 7994 4e73 7562 8c05 7069 6e49 6494
    6824 2981 947d 9428 6827 4b00 6828 6866
    6829 8c16 5159 7062 6c65 5148 676a 736c
    5654 6936 7069 5158 2d51 9468 2b4e 682c
    8968 2d8c 072e 6a64 2e63 6f6d 9468 2e88
    682f 8868 3068 2068 3188 6832 8968 334a
    db9c 1762 6834 8968 354e 6836 4e68 3789
    6838 7d94 7562 8c03 7069 6e94 6824 2981
    947d 9428 6827 4b00 6828 686c 6829 8c0d
    3135 3135 3639 3731 3836 335f 7094 682b
    4e68 2c89 682d 8c07 2e6a 642e 636f 6d94
    682e 8868 2f88 6830 6820 6831 8868 3289
    6833 4a5b f65d 6068 3489 6835 4e68 364e
    6837 8968 387d 9475 628c 0575 6e69 636b
    9468 2429 8194 7d94 2868 274b 0068 2868
    7268 298c 2d25 4535 2542 3025 3846 2545
    3925 4238 2541 3125 4537 2539 4125 3834
    2545 3625 3935 2539 3125 4535 2538 3525
    4235 9468 2b4e 682c 8968 2d8c 072e 6a64
    2e63 6f6d 9468 2e88 682f 8868 3068 2068
    3188 6832 8968 334a 5bf6 5d60 6834 8968
    354e 6836 4e68 3789 6838 7d94 8c08 4874
    7470 4f6e 6c79 944e 7375 628c 0a63 6573
    6869 332e 636f 6d94 6824 2981 947d 9428
    6827 4b00 6828 6879 6829 8c03 3230 3194
    682b 4e68 2c89 682d 8c07 2e6a 642e 636f
    6d94 682e 8868 2f88 6830 6820 6831 8868
    3289 6833 4e68 3488 6835 4e68 364e 6837
    8968 387d 9475 628c 035f 7470 9468 2429
    8194 7d94 2868 274b 0068 2868 7f68 298c
    1e4c 784c 7776 7778 434e 4779 7154 6648
    4331 4462 2532 4657 4125 3344 2533 4494
    682b 4e68 2c89 682d 8c07 2e6a 642e 636f
    6d94 682e 8868 2f88 6830 6820 6831 8868
    3289 6833 4a5b f65d 6068 3489 6835 4e68
    364e 6837 8968 387d 9475 628c 086c 6f67
    696e 696e 6794 6824 2981 947d 9428 6827
    4b00 6828 6885 6829 8c01 3194 682b 4e68
    2c89 682d 8c07 2e6a 642e 636f 6d94 682e
    8868 2f88 6830 6820 6831 8868 3289 6833
    4e68 3488 6835 4e68 364e 6837 8968 387d
    9475 628c 045f 7073 7494 6824 2981 947d
    9428 6827 4b00 6828 688b 6829 8c0d 3135
    3135 3639 3731 3836 335f 7094 682b 4e68
    2c89 682d 8c07 2e6a 642e 636f 6d94 682e
    8868 2f88 6830 6820 6831 8868 3289 6833
    4a5b f65d 6068 3489 6835 4e68 364e 6837
    8968 387d 948c 0848 7474 704f 6e6c 7994
    4e73 7562 7573 7568 1b4a 5b69 3660 7562
    2e
  config.ini: |
    [account]
    payment_pwd =

    [config]
    eid = YH3NQBJ3OUWBAHU66GRVMAF7S42ZEUDIKROIIYZK7ZWWLBPVI3ZGEMPNBDTOCUUSEDWQH335T43OUIONK47EOZR3MQ
    fp = e03e8102e8cd4713ece04fc2879f0122
    track_id = TestTrackId
    risk_control = TestTrackId
    timeout =
    random_useragent = false

    [messenger]
    enable = false
    sckey =
